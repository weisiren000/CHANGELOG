# hosAgent v0.0.43 (2026-01-05)

## 变更概览

- 重构 Footer 组件：改为整合式单行输入框设计，提升操作一致性
- 支持停止生成：引入 AbortController，用户可随时中断 AI 回复生成
- UI 样式优化：简化用户头像设计，使其更加现代和轻量
- 发送逻辑增强：在各发送 Action 中集成中断信号支持

## 详情

### Added
- 支持停止生成功能：通过 `AbortController` 实现对 SSE 流的控制，并同步更新消息状态为“已停止”
- Footer 组件新增 `onStopGenerate` 回调与 `isGenerating` 状态

### Changed
- 重构 `Footer.tsx`：采用整合式布局，左侧为功能组（上传、重置），中间为弹性输入区（文本/录音状态），右侧为操作组（键盘/语音切换、发送/停止）
- 优化 `ChatBubble.tsx`：用户头像由 Ant Design Avatar 改为自定义圆形 div 容器，更加简洁
- 优化 `useChat.ts`：暴露 `stopGeneration` 方法

### UX
- 录音状态下输入框边框高亮并伴有阴影，提升视觉反馈
- 生成状态下显示跳动的三个小圆点动画，并提供明确的停止按钮

### Technical
- 在 `sendActions.ts` 中为 `sendMessage`、`retryMessage` 和 `regenerateMessage` 添加了中断信号处理
- `streamHandler.ts` 现在能够识别并优雅处理 `AbortError`

## Technical Details

- Commit: `e6119594adab601012bf02bbc2446a8c082c3f4b` - feat(chat): 重构 Footer 输入区并支持停止生成功能 (2026-01-05 08:35)
